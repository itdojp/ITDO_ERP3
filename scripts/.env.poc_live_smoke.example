# Example overrides for scripts/poc_live_smoke.sh
# Copy to .env and adjust as needed when running locally.

# Host ports
PM_PORT=3001
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# Feature toggles
USE_MINIO=true
CHECK_GRAFANA_ALERTS=true
CHECK_GRAFANA_DASHBOARDS=true
RUN_METRICS_STRESS=true
# Fallback (namesはスクリプト内の環境変数と揃えています)
# PODMAN_AUTO_HOST_FALLBACK=false
# HOST_INTERNAL_ADDR=host.containers.internal
# POC_LOKI_URL=http://loki:3100

# Health check timeouts (seconds)
TIMEOUT_SECONDS=120
MINIO_TIMEOUT_SECONDS=120
RABBITMQ_TIMEOUT_SECONDS=120
REDIS_TIMEOUT_SECONDS=90
LOKI_TIMEOUT_SECONDS=90
GRAFANA_TIMEOUT_SECONDS=120

# Metrics stream stress configuration
METRICS_STREAM_CLIENTS=30
METRICS_STREAM_ITERATIONS=3
METRICS_STREAM_TIMEOUT_MS=15000
METRICS_STREAM_ITERATION_DELAY_MS=500
METRICS_STREAM_MODE=sse  # sse or ws

# Expected Grafana dashboards
EXPECTED_GRAFANA_DASHBOARDS="PoC Metrics Overview,PoC Logs Explorer,PoC UI Telemetry"
EXPECTED_GRAFANA_DASHBOARD_UIDS="poc-metrics,poc-logs,poc-telemetry"
GRAFANA_HOST=localhost
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# Slack notifications (optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
# SLACK_NOTIFY_ON_SUCCESS=false

# Log directory (optional)
# LOG_DIR=/tmp/poc-smoke-logs

# Telemetry seed verification
# TELEMETRY_SEED_ENDPOINT=http://localhost:${PM_PORT}/api/v1/telemetry/ui?limit=50
# TELEMETRY_MIN_SEEDED=5
# TELEMETRY_SEED_AUTO_RESET=false
# TELEMETRY_SEED_RESET_WITH_MINIO=false
# TELEMETRY_SEED_RESET_TIMEOUT=60
# TELEMETRY_SEED_MAX_ATTEMPTS=2
# TELEMETRY_SEED_SETTLE_SECONDS=2
